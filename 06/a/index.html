<!DOCTYPE html>
<html>

<head>
   <meta charset="utf-8">
   <title>Detecção de colisões</title>
   <script src="animacao.js"></script>
    <script src="fundo.js"></script>
   <style type="text/css">
        canvas{
            border: solid 1px black;
        }
   </style>
</head>

<body>
   <canvas id="my_canvas" width="500" height="500"></canvas>
   <script>
       var imgEspaco = new Image();
       imgEspaco.src = "img/fundo-espaco.png";
       
       var imgEstrelas = new Image();
       imgEstrelas.src = "img/fundo-estrelas.png";
       
       var imgNuvens = new Image();
       imgNuvens.src = "img/fundo-nuvens.png";
       
       var carregadas = 0;
       var total = 3;
       
       
       imgEstrelas.onload = carregando;
       imgNuvens.onload = carregando;
       imgEspaco.onload = carregando;
       
       function carregando(){
           
            carregadas++;
           
           if (carregadas == total){
                iniciar();
           }
       }
       
       function iniciar(){
           var canvas = document.getElementById('my_canvas');
           var context = canvas.getContext('2d');
           
           var fundoEspaco = new Fundo(context, imgEspaco);
           var fundoEstrelas = new Fundo(context, imgEstrelas);
           var fundoNuvens= new Fundo(context, imgNuvens);
           
           fundoEspaco.velocidade = 3;
           fundoEstrelas.velocidade = 7;
           fundoNuvens.velocidade = 10;
           
           var animacao = new Animacao(context);
           animacao.novoSprite(fundoEspaco);
           animacao.novoSprite(fundoEstrelas);
           animacao.novoSprite(fundoNuvens);
           
           animacao.ligar();
           
       }
       
      
   </script>
</body>

</html>
